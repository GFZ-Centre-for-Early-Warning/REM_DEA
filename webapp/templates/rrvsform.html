<!DOCTYPE HTML>
<html>
<head>
    <title>RRVS Form</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <strong><link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}"></strong>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
	<script type="text/javascript"> var $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};</script>
</head>
<body>  
  <script type="text/javascript">
    $(function() {
      $('input[name="gid_field"]').focusout(function() {		// trigger the form update on focusout of the gid_field
		$.getJSON($SCRIPT_ROOT + '/_update_rrvsform', {
          gid_val: $('input[name="gid_field"]').val()			// send gid_field value to server for database query
        }, function(data) {
          $('input[name="height_field"]').val(data.height_val);	// update fields with results from server
          $('select[name="mat_type_field"]').val(data.mat_type_gid);
          $('select[name="mat_prop_field"]').val(data.mat_prop_gid);
        });
        return false;
      });
    });
  </script>
  
  <form id="rrvsForm" action="{{ url_for('rrvsform') }}" method=post>
    {{ rrvs_form.hidden_tag() }}
 
	{{ rrvs_form.gid_field.label }}
    {{ rrvs_form.gid_field(readonly=true)}}
    
    {{ rrvs_form.height_field.label }}
    {{ rrvs_form.height_field }}
    
    {{ rrvs_form.mat_type_field.label }}
    {{ rrvs_form.mat_type_field }}
    
    {{ rrvs_form.mat_prop_field.label }}
    {{ rrvs_form.mat_prop_field }}
 
    {{ rrvs_form.submit }}
  </form>
  
</body>
</html>
